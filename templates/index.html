<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>JayCloud - Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='images/logo.webp') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-k6LoYVVsCnY6x3F1G9b4e/FwZs6VnJy3xFq6KzBUEK6a69ZLZr9A1iZsL5sBkJc" crossorigin="anonymous">
</head>
<body>
    <header>
        <div class="container">
            <img src="{{ url_for('static', filename='images/logo.webp') }}" alt="JayCloud Logo" class="logo">
            <h1>JayCloud</h1>
            <nav>
                <ul>
                    <li><a href="{{ url_for('dashboard') }}">Home</a></li>
                    <li><a href="#upload-section">Upload</a></li>
                    <li><a href="#files-section">Your Files</a></li>
                    <li>
                        <form action="{{ url_for('logout') }}" method="post" style="display: inline;">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <button type="submit" class="logout-btn">Logout</button>
                        </form>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h2>Welcome, {{ current_user.username }}!</h2>
                <p>Securely store and manage your files.</p>
                <a href="#upload-section" class="btn">Get Started</a>
            </div>
        </section>

        <!-- Upload Section -->
        <section id="upload-section" class="upload-section">
            <div class="container">
                <h2>Upload Your Files</h2>
                <div class="upload-container">
                    <label for="fileInput" class="custom-file-upload">
                        <i class="fa fa-cloud-upload"></i> Select File
                    </label>
                    <input type="file" id="fileInput">
                    <button id="uploadBtn" class="btn upload-btn">Upload</button>
                </div>
                <div id="status"></div>
            </div>
        </section>

        <!-- Files Section -->
        <section id="files-section" class="files-section">
            <div class="container">
                <h2>Your Files</h2>
                <table id="filesTable">
                    <thead>
                        <tr>
                            <th>Filename</th>
                            <th>Upload Time</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Files will be populated here -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 JayCloud. All rights reserved.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
